# 📚 Async/Await JavaScript - Panduan Lengkap

> **Sebuah function yang bekerja secara asyncronous (melalui event loop), yang menghasilkan (implisit) promise sebagai return value-nya, tapi cara penulisan codenya menggunakan penulisan yang syncronous (standard).**

[![JavaScript](https://img.shields.io/badge/JavaScript-ES2017+-yellow?style=for-the-badge&logo=javascript)](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
[![Promise](https://img.shields.io/badge/Promise-Async%2FAwait-blue?style=for-the-badge)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

---

## 📋 Daftar Isi

- [🔍 Pengertian Async Function](#-pengertian-async-function)
- [⚡ Membuat Promise Dasar](#-membuat-promise-dasar)
  - [Promise yang Langsung Resolved](#promise-yang-langsung-resolved)
  - [Promise dengan Delay](#promise-dengan-delay)
  - [Menggunakan .then()](#menggunakan-then)
- [🚀 Mengubah ke Async/Await](#-mengubah-ke-asyncawait)
  - [Membuat Function Promise](#membuat-function-promise)
  - [Implementasi Async/Await](#implementasi-asyncawait)
- [❌ Error Handling](#-error-handling)
  - [Error Handling dengan .then() dan .catch()](#error-handling-dengan-then-dan-catch)
  - [Error Handling dengan Try/Catch](#error-handling-dengan-trycatch)

---

## 🔍 Pengertian Async Function

**Async Function** adalah fungsi yang memiliki karakteristik:

- ✅ Berjalan secara **asynchronous**
- ✅ Menghasilkan **Promise** secara implisit
- ✅ Cara penulisan sama seperti **function biasa**
- ✅ Dapat menggunakan keyword **await** untuk menunggu Promise selesai

---

## ⚡ Membuat Promise Dasar

### Promise yang Langsung Resolved

```javascript
const coba = new Promise((resolve) => resolve('selesai'));

console.log(coba);
```

**📤 Output:**
```
Promise {<fulfilled>: 'selesai'}
```

**💡 Penjelasan:**
```javascript
// Promise memiliki 2 parameter: (resolve, reject)
// Contoh ini hanya menggunakan resolve
// Langsung return dengan nilai 'selesai'
const coba = new Promise((resolve) => resolve('selesai'));
```

---

### Promise dengan Delay

```javascript
const coba = new Promise((resolve) => {
  setTimeout(() => {
    resolve('selesai');
  }, 2000);
});

console.log(coba);
```

**📤 Output:**
```
Promise {<pending>}
```

**❓ Mengapa Pending?**  
Karena code berjalan secara **synchronous**, `console.log` dieksekusi sebelum Promise selesai (2 detik).

---

### Menggunakan .then()

```javascript
const coba = new Promise((resolve) => {
  setTimeout(() => {
    resolve('selesai');
  }, 2000);
});

coba.then(() => console.log(coba));
```

**📤 Output (setelah 2 detik):**
```
Promise {<fulfilled>: 'selesai'}
```

---

## 🚀 Mengubah ke Async/Await

### Membuat Function Promise

```javascript
function cobaPromise() {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve('selesai');
    }, 2000);
  });
}

const coba = cobaPromise();
console.log(coba);
```

**📤 Output:**
```
Promise {<pending>}
```

---

### Implementasi Async/Await

❌ **Tanpa Async/Await:**
```javascript
function cobaPromise() {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve('selesai');
    }, 2000);
  });
}

function cobaAsync() {
  const coba = cobaPromise();
  console.log(coba);
}

console.log(cobaAsync());
```

**📤 Output:**
```
Promise {<pending>}
undefined
```

---

✅ **Dengan Async/Await:**
```javascript
function cobaPromise() {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve('selesai');
    }, 2000);
  });
}

async function cobaAsync() {
  const coba = await cobaPromise();
  console.log(coba);
}

cobaAsync();
```

**📤 Output (setelah 2 detik):**
```
selesai
```

**💡 Penjelasan Code:**
```javascript
// Keyword 'async' memberitahu JavaScript bahwa function ini asynchronous
async function cobaAsync() {
  // Keyword 'await' menunggu Promise selesai sebelum lanjut ke baris berikutnya
  const coba = await cobaPromise();
  console.log(coba);
}
```

---

## ❌ Error Handling

### Error Handling dengan .then() dan .catch()

**✅ Contoh Berhasil (Resolve):**
```javascript
function cobaPromise() {
  return new Promise((resolve, reject) => {
    const waktu = 3000;
    if (waktu < 5000) {
      setTimeout(() => {
        resolve('selesai');
      }, waktu);
    } else {
      reject('kelamaan');
    }
  });
}

const coba = cobaPromise();
coba.then(() => console.log(coba)).catch(() => console.log(coba));
```

**📤 Output (setelah 3 detik):**
```
Promise {<fulfilled>: 'selesai'}
```

---

**❌ Contoh Gagal (Reject):**
```javascript
function cobaPromise() {
  return new Promise((resolve, reject) => {
    const waktu = 6000; // Lebih dari 5000
    if (waktu < 5000) {
      setTimeout(() => {
        resolve('selesai');
      }, waktu);
    } else {
      reject('kelamaan');
    }
  });
}

const coba = cobaPromise();
coba.then(() => console.log(coba)).catch(() => console.log(coba));
```

**📤 Output:**
```
Promise {<rejected>: 'kelamaan'}
```

---

### Error Handling dengan Try/Catch

> **⚠️ Catatan:** Pada async/await, kita tidak bisa menggunakan `.then()`. Gunakan **try/catch** untuk error handling.

**✅ Contoh Berhasil:**
```javascript
function cobaPromise() {
  return new Promise((resolve, reject) => {
    const waktu = 3000;
    if (waktu < 5000) {
      setTimeout(() => {
        resolve('selesai');
      }, waktu);
    } else {
      reject('kelamaan');
    }
  });
}

async function cobaAsync() {
  try {
    const coba = await cobaPromise();
    console.log(coba);
  } catch (error) {
    console.log(error);
  }
}

cobaAsync();
```

**📤 Output (setelah 3 detik):**
```
selesai
```

---

**❌ Contoh Gagal:**
```javascript
function cobaPromise() {
  return new Promise((resolve, reject) => {
    const waktu = 6000; // Lebih dari 5000
    if (waktu < 5000) {
      setTimeout(() => {
        resolve('selesai');
      }, waktu);
    } else {
      reject('kelamaan');
    }
  });
}

async function cobaAsync() {
  try {
    const coba = await cobaPromise();
    console.log(coba);
  } catch (error) {
    console.error(error); // Menggunakan console.error untuk warna merah
  }
}

cobaAsync();
```

**📤 Output:**
```
kelamaan
```
*(dengan warna merah di console)*

---

**💡 Penjelasan Try/Catch:**
```javascript
async function cobaAsync() {
  try {
    // 'await' hanya menangani resolve (berhasil)
    // Dimasukkan dalam blok 'try'
    const coba = await cobaPromise();
    console.log(coba);
  } catch (error) {
    // Jika Promise di-reject, masuk ke blok 'catch'
    // 'error' adalah parameter yang menangkap pesan reject
    console.error(error); // console.error() untuk output berwarna merah
  }
}
```

---

## 🎯 Ringkasan

| **Metode** | **Untuk Resolve** | **Untuk Reject** |
|------------|-------------------|-------------------|
| **Promise** | `.then()` | `.catch()` |
| **Async/Await** | `try {}` | `catch {}` |

---

**📝 Poin Penting:**
- ✅ `async` function selalu return Promise
- ✅ `await` hanya bisa digunakan dalam `async` function  
- ✅ `await` menunggu Promise selesai sebelum lanjut ke baris berikutnya
- ✅ Gunakan `try/catch` untuk error handling di async/await
- ✅ `console.error()` untuk menampilkan pesan error berwarna merah

---

<div align="center">

**🚀 Selamat! Anda sudah memahami dasar Async/Await JavaScript**

*Made with ❤️ for Indonesian Developers*

</div>
