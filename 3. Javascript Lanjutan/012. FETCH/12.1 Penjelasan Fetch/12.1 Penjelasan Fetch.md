# 🎬 Dokumentasi Fetch API JavaScript

> **Panduan lengkap untuk memahami Fetch API sebagai pengganti jQuery AJAX dan XMLHttpRequest**

[![JavaScript](https://img.shields.io/badge/JavaScript-ES6+-yellow.svg)](https://developer.mozilla.org/en-US/docs/Web/JavaScript)
[![Fetch API](https://img.shields.io/badge/Fetch%20API-Modern-blue.svg)](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)
[![Bootstrap](https://img.shields.io/badge/Bootstrap-5.3.3-purple.svg)](https://getbootstrap.com/)

---

## 📚 Daftar Isi

- [🤔 Apa itu Fetch API?](#-apa-itu-fetch-api)
- [⚡ Perbandingan jQuery vs Fetch](#-perbandingan-jquery-vs-fetch)
  - [Versi jQuery](#versi-jquery)
  - [Versi Fetch API](#versi-fetch-api)
- [🔧 Syntax Fetch API](#-syntax-fetch-api)
  - [Resources](#resources)
  - [Init (Konfigurasi)](#init-konfigurasi)
- [📤 Response Object](#-response-object)
  - [Properties](#properties)
  - [Methods](#methods)
- [💻 Contoh Implementasi Lengkap](#-contoh-implementasi-lengkap)
- [🎯 Output dan Hasil](#-output-dan-hasil)

---

## 🤔 Apa itu Fetch API?

**Fetch API** adalah sebuah interface JavaScript modern untuk mengambil data secara **asynchronous** dari server. Fetch API merupakan alternatif modern dari:
- XMLHttpRequest (Vanilla JavaScript)
- jQuery AJAX method

### Keunggulan Fetch API:
- ✅ **Promise-based** - Lebih mudah dibaca dan dipahami
- ✅ **Built-in** - Tidak perlu library tambahan
- ✅ **Modern syntax** - Mendukung async/await
- ✅ **Lightweight** - Lebih ringan dibanding jQuery

---

## ⚡ Perbandingan jQuery vs Fetch

### Versi jQuery

```javascript
// Implementasi menggunakan jQuery AJAX
$(".search-button").on("click", function () {
  $.ajax({
    url: "http://www.omdbapi.com/?apikey=b2a155c4&s=" + $(".input-keyword").val(),
    success: (results) => {
      const movies = results.Search;
      let cards = "";
      
      movies.forEach((m) => {
        cards += showCards(m);
      });
      
      $(".movie-container").html(cards);

      // Event handler untuk tombol detail
      $(".modal-detail-button").on("click", function () {
        $.ajax({
          url: "http://www.omdbapi.com/?apikey=b2a155c4&i=" + $(this).data("imdbid"),
          success: (m) => {
            const movieDetail = showMovieDetail(m);
            $(".modal-body").html(movieDetail);
          },
          error: (e) => {
            console.log(e.responseText);
          },
        });
      });
    },
    error: (e) => {
      console.log(e.responseText);
    },
  });
});
```

**Output jQuery:** Menggunakan callback-based approach dengan nested AJAX calls

### Versi Fetch API

```javascript
// Implementasi menggunakan Fetch API
const searchButton = document.querySelector('.search-button');

searchButton.addEventListener('click', function () {
  const inputKeyword = document.querySelector('.input-keyword');

  fetch('http://www.omdbapi.com/?apikey=b2a155c4&s=' + inputKeyword.value)
    .then((response) => response.json())
    .then((response) => {
      const movies = response.Search;
      let cards = '';

      movies.forEach((m) => (cards += showCards(m)));

      const movieContainer = document.querySelector('.movie-container');
      movieContainer.innerHTML = cards;

      // Event handler untuk tombol detail
      const modalDetailButton = document.querySelectorAll('.modal-detail-button');

      modalDetailButton.forEach((btn) => {
        btn.addEventListener('click', function () {
          const imdbid = this.dataset.imdbid;

          fetch('http://www.omdbapi.com/?apikey=b2a155c4&i=' + imdbid)
            .then((response) => response.json())
            .then((m) => {
              const movieDetail = showMovieDetail(m);
              const modalBody = document.querySelector('.modal-body');
              modalBody.innerHTML = movieDetail;
            })
            .catch((response) => console.log(response.responseText));
        });
      });
    });
});
```

**Output Fetch:** Promise-based approach yang lebih clean dan tidak memerlukan library eksternal

---

## 🔧 Syntax Fetch API

```javascript
fetch(resources, init)
```

### Resources

| Type | Deskripsi | Contoh |
|------|-----------|--------|
| **URL** | Alamat sumber yang akan diambil | `'https://api.example.com/data'` |
| **Request Object** | Representasi permintaan sumber | `new Request(url, options)` |

### Init (Konfigurasi)

Konfigurasi tambahan dalam bentuk object:

```javascript
const options = {
  method: 'GET',           // HTTP method
  headers: {               // Request headers
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({}), // Request body
  mode: 'cors',            // Request mode
  cache: 'default',        // Cache mode
  referrer: 'client',      // Referrer
  referrerPolicy: 'no-referrer-when-downgrade',
  integrity: '',           // Subresource integrity
  keepalive: false,        // Keep connection alive
  signal: null             // AbortController signal
};

fetch('https://api.example.com/data', options);
```

**Output Init:** Objek konfigurasi memberikan kontrol penuh terhadap request HTTP

---

## 📤 Response Object

Response adalah hasil dari fetch yang berupa **Promise**.

### Properties

| Property | Type | Deskripsi |
|----------|------|-----------|
| `headers` | Headers | Header response |
| `ok` | Boolean | Status sukses (200-299) |
| `redirected` | Boolean | Apakah response di-redirect |
| `status` | Number | HTTP status code |
| `statusText` | String | HTTP status message |
| `type` | String | Tipe response |
| `url` | String | URL response |
| `body` | ReadableStream | Body response |

### Methods

```javascript
// Contoh penggunaan response methods
fetch('https://api.example.com/data')
  .then(response => {
    console.log('Status:', response.status);        // Output: Status: 200
    console.log('OK:', response.ok);                // Output: OK: true
    
    // Method untuk parsing data
    return response.json();     // Untuk JSON data
    // return response.text();  // Untuk text data
    // return response.blob();  // Untuk binary data
    // return response.formData(); // Untuk form data
  })
  .then(data => {
    console.log('Data:', data); // Output: Data: {...parsed JSON...}
  });
```

| Method | Return Type | Deskripsi |
|--------|-------------|-----------|
| `clone()` | Response | Membuat klon response |
| `error()` | Response | Membuat error response |
| `redirect()` | Response | Membuat redirect response |
| `blob()` | Promise<Blob> | Parse sebagai binary large object |
| `formData()` | Promise<FormData> | Parse sebagai form data |
| `json()` | Promise<Object> | Parse sebagai JSON |
| `text()` | Promise<String> | Parse sebagai text |

---

## 💻 Contoh Implementasi Lengkap

### HTML Structure

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch API Movie Search</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <div class="row mt-5">
        <div class="col">
          <h1>🎬 Ahmad Movie DB</h1>
        </div>
      </div>

      <div class="row">
        <div class="col-md-8">
          <div class="input-group mb-3">
            <input
              type="text"
              class="form-control input-keyword"
              placeholder="Search Movie ..."
            />
            <button
              class="btn btn-primary search-button"
              type="button"
              id="button-addon2"
            >
              🔍 Search
            </button>
          </div>
        </div>
      </div>

      <div class="row movie-container"></div>
    </div>

    <!-- Modal untuk detail film -->
    <div class="modal fade" id="movieDetailModal">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="movieDetailModal">🎬 Movie Details</h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="./script.js"></script>
  </body>
</html>
```

---

## 🎯 Output dan Hasil

### 1. **Pencarian Film**
```
Input: "Avengers"
Output: Menampilkan daftar film Avengers dalam bentuk card Bootstrap
```

### 2. **Detail Film**
```
Input: Klik tombol "Detail" pada card film
Output: Modal popup menampilkan informasi lengkap film (poster, plot, rating, dll)
```

### 3. **Error Handling**
```
Input: Pencarian film yang tidak ditemukan
Output: Console.log menampilkan pesan error dari API
```

### 4. **Response Structure**
```javascript
// Contoh response dari OMDB API
{
  "Search": [
    {
      "Title": "Avengers: Endgame",
      "Year": "2019",
      "imdbID": "tt4154796",
      "Type": "movie",
      "Poster": "https://..."
    }
  ],
  "totalResults": "4",
  "Response": "True"
}
```

---

## 🚀 Kesimpulan

Fetch API memberikan cara modern dan efisien untuk melakukan HTTP requests tanpa ketergantungan pada library eksternal. Dengan Promise-based approach, kode menjadi lebih readable dan maintainable dibandingkan dengan callback-based jQuery AJAX.

**Keuntungan utama:**
- 🎯 Native JavaScript (tidak perlu jQuery)
- 🔄 Promise-based (mendukung async/await)
- 🛠️ Konfigurasi yang fleksibel
- 📱 Dukungan browser modern yang excellent

---

<div align="center">
  <strong>Happy Coding! 🚀</strong><br>
  <em>Dokumentasi ini dibuat untuk memudahkan pemahaman Fetch API bagi pemula</em>
</div>
